(this.webpackJsonpmultiselect=this.webpackJsonpmultiselect||[]).push([[0],{13:function(e){e.exports=JSON.parse('[{"id":1323,"name":"Horror","flags":""},{"id":2314,"name":"Fantasy","flags":""},{"id":5325,"name":"Animation","flags":""},{"id":6623,"name":"Drama","flags":""},{"id":1673,"name":"Comedy","flags":""}]')},14:function(e){e.exports=JSON.parse('[{"id":13231,"parent_id":1323,"name":"SCREAM 2","flags":""},{"id":23231,"parent_id":1323,"name":"Get Out","flags":""},{"id":43221,"parent_id":1323,"name":"THE OMEN","flags":""},{"id":35231,"parent_id":1323,"name":"Psycho","flags":""},{"id":43141,"parent_id":2314,"name":"Thor: Ragnarok","flags":""},{"id":26121,"parent_id":2314,"name":"Hugo","flags":""},{"id":24144,"parent_id":2314,"name":"Hugo","flags":""},{"id":23141,"parent_id":2314,"name":"Hugo","flags":""},{"id":15325,"parent_id":5325,"name":"Coco","flags":""},{"id":33455,"parent_id":5325,"name":"Zootopia","flags":""},{"id":56215,"parent_id":5325,"name":"Toy Story 4","flags":""},{"id":16643,"parent_id":6623,"name":"Lady Bird","flags":""},{"id":66230,"parent_id":6623,"name":"THE IRISHMAN","flags":""},{"id":18623,"parent_id":6623,"name":"Lady Bird","flags":""},{"id":63213,"parent_id":6623,"name":"ROMA","flags":""},{"id":16735,"parent_id":1673,"name":"School of Rock","flags":""},{"id":41673,"parent_id":1673,"name":"The Mask","flags":""}]')},28:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(8),r=n.n(c),o=(n(28),n(4)),s=(n(34),n(13)),u="INITIAL:GET_CATEGORIES",l="INITIAL:ADD_NEW_CATEGORY",d="INITIAL:REMOVE_CATEGORY",f=function(){return function(e){fetch(s).then((function(e){if(!e.ok||200!==e.status)throw Error("it ain't work");return JSON.parse(JSON.stringify(s))})).then((function(t){e({type:u,payload:{categories:t}})}))}},p=function(e){return function(t){t(function(e,t,n){return{type:l,payload:{id:e,name:t,flags:n}}}(Math.floor(Date.now()),e,""))}},j=n(14),O="INITIAL:GET_ITEMS_CATEGORIES",g="INITIAL:GET_ITEM_ID",m="INITIAL:TO_DELETE_ITEMS",b=function(){return function(e){fetch(j).then((function(e){if(!e.ok||200!==e.status)throw Error("it ain't work");return JSON.parse(JSON.stringify(j))})).then((function(t){e({type:O,payload:{items:t}})}))}},h="INITIAL:USER_ACTIONS",I="INITIAL:SET_INPUT_VALUE",y="INITIAL:SET_SHOW_SELECT",E=function(e){return{type:y,payload:{showSelect:e}}},_=function(e){return function(t){t(function(e){return{type:I,payload:{inputValue:e}}}(e))}},v=n(1);var S=n(22),T=n(23),N=n(17),x=n(18);function C(e){var t=e.showSelect,n=e.inputValue,a=e.itemId,c=Object(o.b)(),r=Object(o.c)((function(e){return e.categories.categories})),s=Object(o.c)((function(e){return e.itemsCategories.itemsCategories})),u=i.a.useState([]),l=Object(T.a)(u,2),p=l[0],j=l[1],O=new RegExp("^"+n,"i");i.a.useEffect((function(){0===r.length&&c(f()),0===s.length&&c(b())}),[]);var h=function(e){c(function(e){return{type:g,payload:{itemId:e}}}(e))},I=function(e){console.log(e),c({type:m,payload:{itemsDelete:e}}),j([])},y=function(e){c(function(e){return{type:d,payload:{categoryId:e}}}(e))},E=function(e){var t=[];return s.map((function(n){n.parent_id===e&&t.push(Object(v.jsxs)("div",{className:"item-content",children:[Object(v.jsx)("div",{children:n.name}),Object(v.jsx)("input",{onChange:function(){return function(e){j((function(t){return[].concat(Object(S.a)(t),[e])}))}(n.id)},type:"checkbox"})]},n.id))})),t};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:t?Object(v.jsxs)("div",{className:"dropdown",children:[r.filter((function(e){return O.test(e.name)})).map((function(e){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{onClick:function(){return h(e.id)},className:"dropdown-category",children:[Object(v.jsx)("span",{children:e.name}),Object(v.jsx)("button",{onClick:function(){return y(e.id)},children:Object(v.jsx)(N.a,{fixedWidth:!0,icon:x.a})})]}),e.id==a?E(e.id):null]},e.id)})),0!==p.length?Object(v.jsx)("button",{className:"button-del-all",onClick:function(){return I(p)},children:"Delete items"}):null]}):null})})}var A=n(3),w=function(e){return function(t){return Object(v.jsx)(e,Object(A.a)({},t))}}((function(e){var t=Object(o.b)(),n=e.inputValue,a=e.showSelect,c=Object(o.c)((function(e){return e.itemsCategories.itemsCategories}));return i.a.useEffect((function(){0===c.length&&t(b())}),[]),i.a.useEffect((function(){a||t(E(!1)),t(E(!0))}),[t,E]),Object(v.jsxs)("div",{className:"multiselect",children:[Object(v.jsx)("input",{className:"input",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",onFocus:function(e){t(E(!0))},value:n,onChange:function(e){t(_(e.target.value.replace(/[^0-9a-zA-Z\u0451\u0401\u0430-\u044f\u0410-\u042f\s-]/g,"")))}}),Object(v.jsx)("button",{className:"input-button",onClick:function(){var e;""!==(e=n)&&(t(p(e)),t(_("")))},children:"Add category"})]})}));var L=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.itemsCategories.itemId})),n=Object(o.c)((function(e){return e.userActions.inputValue})),a=Object(o.c)((function(e){return e.userActions.showSelect}));return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("div",{onClick:function(){return e(E(!1))},className:"overlay"}),Object(v.jsxs)("div",{className:"app-multiselect",children:[Object(v.jsx)(w,{inputValue:n,itemId:t,showSelect:a}),Object(v.jsx)(C,{inputValue:n,itemId:t,showSelect:a})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))},D=n(5),R=n(20),M=n(15),V=n(19),G={categories:[]};var H={itemsCategories:[],itemName:"",itemsDelete:[]};var J={userActions:[],inputValue:"",showSelect:!1};var F={key:"root",storage:n.n(V).a},P=Object(D.b)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return 0===e.categories.length?Object(A.a)(Object(A.a)({},e),{},{categories:t.payload.categories}):Object(A.a)({},e);case l:return Object(A.a)(Object(A.a)({},e),{},{categories:e.categories.concat(t.payload)});case d:return console.log(t.payload),Object(A.a)(Object(A.a)({},e),{},{categories:e.categories.filter((function(e){return e.id!==t.payload.categoryId}))});default:return e}},itemsCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(A.a)(Object(A.a)({},e),{},{itemsCategories:t.payload.items});case g:return Object(A.a)(Object(A.a)({},e),{},{itemId:t.payload.itemId});case m:return{itemsCategories:e.itemsCategories.filter((function(e){return-1===t.payload.itemsDelete.indexOf(e.id)}))};default:return e}},userActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(A.a)(Object(A.a)({},e),{},{userActions:t.payload.userActions});case I:return Object(A.a)(Object(A.a)({},e),{},{inputValue:t.payload.inputValue});case y:return Object(A.a)(Object(A.a)({},e),{},{showSelect:t.payload.showSelect});default:return e}}}),B=Object(M.a)(F,P),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,W=Object(D.d)(B,U(Object(D.a)(R.a))),X=Object(M.b)(W),Y=n(21);r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(o.a,{store:W,children:Object(v.jsx)(Y.a,{persistor:X,children:Object(v.jsx)(L,{})})})}),document.getElementById("root")),k()}},[[41,1,2]]]);
//# sourceMappingURL=main.b9ef7625.chunk.js.map